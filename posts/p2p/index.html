
<!DOCTYPE html>
<html>

<head>
    
    

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer">

<title>
    Why (Not) Peer-to-Peer? - Bits, Bytes, Late Nights
</title>


<link rel="shortcut icon" href="/favicon.ico">








<link rel="stylesheet" href="/css/main.min.2919e350bc62ec5f9db812b66ca8f9d1b0c21058e6c0c4239b44b782fa75e78a.css" integrity="sha256-KRnjULxi7F&#43;duBK2bKj50bDCEFjmwMQjm0S3gvp154o=" crossorigin="anonymous" media="screen">








<style>
   
   
  @font-face {
    font-family: 'Didact Gothic';
    font-style: normal;
    font-weight: 400;
    src: url('/font/didact-gothic-v13-latin-regular.eot');  
    src: local('Didact Gothic Regular'), local('DidactGothic-Regular'),
         url('/font/didact-gothic-v13-latin-regular.eot?#iefix') format('embedded-opentype'),  
         url('/font/didact-gothic-v13-latin-regular.woff2') format('woff2'),  
         url('/font/didact-gothic-v13-latin-regular.woff') format('woff'),  
         url('/font/didact-gothic-v13-latin-regular.ttf') format('truetype'),  
         url('/font/didact-gothic-v13-latin-regular.svg#DidactGothic') format('svg');  
  }
</style>



<style type="text/css">
  ::selection {
    background: #fcf8eb;  
    color: black;
  }
  ::-moz-selection {
    background: #fcf8eb;  
    color: black;
  }
</style>


    

    
    
    
    <title>
        
        Why (Not) Peer-to-Peer?
        
    </title>
</head>

<body>
    
    
    
        <div class="section top-menu">
            
<p>
    <a href="https://teapowered.dev/">home</a>
    
        
            &#183;
            <a href="/posts">thoughts</a>
        
            &#183;
            <a href="/recipes">recipes</a>
        
            &#183;
            <a href="/notes">notes</a>
        
            &#183;
            <a href="/about">me</a>
        
    
</p>


        </div>
    
    

    <main class="wrap">
        
        <header>
            Why (Not) Peer-to-Peer?
        </header>
        

        
        
        
        
        
        
        

        
<div class="flex-container">
    <aside role="complementary">
        <div class="subtitle">Let&rsquo;s start the new decade with a little reflection: what brought us where we are today, and what lies ahead? And if it isn&rsquo;t abundantly clear from the get-go, I&rsquo;m a P2P evangelist and this post could be considered borderline propoganda.</div>
        <div id="metadata">
            <div>
                Dec 30, 2019
            </div>
            <div>&nbsp;&#183;&nbsp;</div>
            <div>
                2043 words
            </div>
            <div>&nbsp;&#183;&nbsp;</div>
            <div>
                a 10 minute read
            </div>
            <div class="tag-container">
                
                
                &#183;
                <span class="tag"><a href="/tags/tech/">#tech</a></span>
                
                
            </div>
        </div>
    </aside>
    <hr />
    <article role="article">
        <p>The smartphone revolution undoubtedly contributed significantly to the exponential economic growth of this decade: from the apocalyptic rise of social media to the decadent explosion of video streaming, the always-on, always-listening devices that are ever-present in our pockets are the communication conduits of the future.</p>
<h1 id="a-decade-of-consumption">A Decade of Consumption</h1>
<p>Though the small screens of early smartphones were not meant for consuming rich media like Instagram Stories or Netflix streams, the massive, high-resolution screens of today are what drive <a href="https://hostingtribunal.com/blog/mobile-percentage-of-traffic/">over <strong>half</strong></a> of the Internet&rsquo;s <em>entire usage</em>. This rich media is both bandwidth-heavy (as anyone on a throttled data plan will know) and, more-importantly, <strong>unchanging</strong>. The images uploaded to your Instagram profile are unnecessarily redistributed to all of your followers&rsquo; devices: each device requests a fresh copy of your latest creative expression from Instagram&rsquo;s servers when it refreshes the feed.</p>
<p>This superfluous duplication leads to a massive amount of
resources—millions of dollars, CPU cycles, CO<sub>2</sub> emissions,
battery percentage points, etc.—dedicated to doing the same thing
(serving an image) over and over again needlessly. This begs the question: Is
it possible that the decade ahead will enable forms of unparalleled creative
expression that are only made possible through unfettered waste and a severe
lack of control?</p>
<p>With most of the Internet&rsquo;s content being needlessly controlled by a handful of companies, its overall health and future potential is at risk; we should look to alternative approaches to content distribution to explore reducing our current levels of brittle unscalability.</p>
<h2 id="whos-using-the-internet-anyway">Who&rsquo;s Using the Internet, Anyway?</h2>
<p>Let&rsquo;s look at a small sample of the <a href="https://www.alexa.com/topsites/countries/US">Alexa&rsquo;s US Top 50</a> to see just how much content is being needlessly duplicated around the world.<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></p>
<ul>
<li>Google (#1), the advertisement empire of our generation. <a href="https://www.icrossing.com/uk/ideas/bandwidth-goolgecom_1256">Napkin math</a> tells us that for the homepage alone, we&rsquo;re looking at 24 <strong>terabytes</strong> of bandwidth transferred every year;<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup> that&rsquo;s like having <strong>46 years</strong> worth of music content in your library. Now, is there just one person looking at the Google homepage at any point in time? That seems astronomically unlikely&hellip; couldn&rsquo;t we save time, money, and resources by pulling a page out of the Marxist playbook and sharing the homepage amongst ourselves?</li>
</ul>
<figure >
  
    
    
    
    
      
      
      
      
        
        
      
    
      
      
      
      
      
    
      
    
      <img
        
        srcset='
                /posts/p2p/google-homepage_hu_6393b29fbca0c8a9.png 300pxw
                '
        
          sizes='
                 
                 300px'
        
        src="/posts/p2p/google-homepage_hu_6393b29fbca0c8a9.png"
        
          width="300px"
        
        
          alt="The Google homepage"
        
      >
    

  
  
    <figcaption>
      <p>Does the Google homepage really change so often that we need to ask them for it every time?</p>
    </figcaption>
  
</figure>

<ul>
<li>
<p>YouTube (#2), the single website making up <a href="https://www.pcmag.com/news/364353/netflix-and-youtube-make-up-over-a-quarter-of-global-interne"><em>over a tenth</em></a> of <strong>all</strong> Internet usage and receives uploads of <a href="https://www.tubefilter.com/2019/05/07/number-hours-video-uploaded-to-youtube-per-minute/">500 hours of new content</a> <strong>every minute</strong>. Many videos are either never or rarely watched (in spite of wholesome efforts like <a href="http://www.petittube.com/">PetitTube</a> that aim to shed light on this untouched corner of the Internet), while others garner millions of views. This means hundreds of millions of people watching separate, uniquely distributed <em>copies</em> the same content: how often is there just one person watching a single video at any point in time? That&rsquo;s probably a rare occurrence for any reasonably-popular video&hellip; couldn&rsquo;t we save time, money, and resources by pulling a page out of the Marxist playbook and sharing it amongst ourselves?</p>
</li>
<li>
<p>Netflix (#9), simultaneously the world&rsquo;s favorite <a href="https://youtu.be/fJ9rUzIMcZQ?t=12">escape from reality</a> and pretext to chill, <a href="https://www.pcmag.com/news/364353/netflix-and-youtube-make-up-over-a-quarter-of-global-interne">makes up 15%</a> of the world&rsquo;s total Internet usage. Just like with YouTube, this means every person watching the latest season of <em>Peaky Blinders</em> is downloading their own unique copy from either Netflix or <a href="https://openconnect.netflix.com/en/">their ISP</a>, when they could be sharing bits with their fellow &ldquo;Roaring 20&rsquo;s&rdquo;-addicted neighbor.</p>
</li>
<li>
<p>Instagram (#20), the ultimate <a href="https://en.wikipedia.org/wiki/Operant_conditioning_chamber#Commercial_applications">Skinner box</a>, hosts some <a href="https://www.omnicoreagency.com/instagram-statistics/">50 billion photos</a> and grows by nearly <a href="https://www.wordstream.com/blog/ws/2017/04/20/instagram-statistics">100 million a day</a>, while its parent company Facebook (#4) sees <a href="https://www.brandwatch.com/blog/facebook-statistics/">100 million hours</a> of video watch-time a day. To reiterate an earlier point: when you start an IGTV video feed, it&rsquo;s downloaded by each and every one of your followers from Instagram&rsquo;s servers when they tune in. Imagine if the feed was instead organically distributed among your followers themselves; they could efficiently &ldquo;share&rdquo; it with each other instead of relying on the central authority of Instagram to feed them content. Not only does this make it resilient to censorship (a problem we thankfully rarely face in the US), but it also reduces latency (after all, your followers are likely closer to you than Facebook&rsquo;s servers) and bandwidth requirements.</p>
</li>
<li>
<p>Apple (#22) and the rest of the music streaming conglomerate (Spotify [#36], Amazon [#3], Pandora, etc.) represent another domain rife with unwarranted duplication. When the entire country is playing Mariah Carey&rsquo;s &ldquo;All I Want For Christmas Is You,&rdquo; why aren&rsquo;t they streaming the songs off of each others&rsquo; devices rather than each individually downloading them from Spotify&rsquo;s servers?</p>
</li>
</ul>
<p>In essence, a handful of centralized services dominate ownership over the entertainment we all consume. Regardless of whether we&rsquo;re talking about Facebook and its dominance on user-submitted images and videos, Netflix and Google&rsquo;s control over video streaming, or Spotify and its competitors&rsquo; rule over Music Kingdom, the conclusion is the same: the billions of people that use these services are all downloading content from servers that have already distributed it to the world a dozen times over.</p>
<!-- 
<figure class="two grid">
  
  
  
  
  
    <img
      
      src="/posts/p2p/ncdn.png"
      width='200px'
      
      alt=""
    >
  

  
  
  
  
    <img
      
      src="/posts/p2p/p2p.png"
      width='200px'
      
      alt=""
    >
  


  
</figure>
 -->
<h2 id="centralization-vs-democratization">Centralization vs. Democratization</h2>
<p>The waste fueled by duplication is not the only worrisome aspect of these content conglomerates: we should also consider the impact on the freedom and availability of the Internet these behemoths have by controlling the majority of our media consumption.</p>
<p>I&rsquo;m not even talking about the social impact of an increasingly-isolated <a href="https://www.theguardian.com/music/2018/oct/05/10-years-of-spotify-should-we-celebrate-or-despair#maincontent">musical monoculture</a>, or the psychological goldmine of insights that Instagram and Facebook content provides for <a href="https://www.nytimes.com/2018/03/19/technology/facebook-cambridge-analytica-explained.html">political manipulation</a>; I&rsquo;m talking about a third of the Internet (including Spotify and Netflix) going offline for 4 hours because of an <a href="https://www.theverge.com/2017/3/2/14792442/amazon-s3-outage-cause-typo-internet-server">Amazon cloud outage</a>.<sup id="fnref:3"><a href="#fn:3" class="footnote-ref" role="doc-noteref">3</a></sup> I&rsquo;m talking about Google strangling creators if their content doesn&rsquo;t align with an intentionally-ambigious vision or have <a href="https://mashable.com/article/youtube-new-terms-of-service-no-longer-commercially-viable/">profit potential</a>. I&rsquo;m talking about the <a href="https://arstechnica.com/information-technology/2015/04/ddos-attacks-that-crippled-github-linked-to-great-firewall-of-china/">majority of software development</a> and the <a href="https://dyn.com/blog/dyn-statement-on-10212016-ddos-attack/">backbone of the Web</a> grinding to a halt under denial-of-service attacks. I&rsquo;m talking about how society has ignored one of the first secure design principles: <em>don&rsquo;t have single points of failure</em>.</p>
<p>Our current level of content centralization is not only concerning, it&rsquo;s flat out dangerous, and the cracks have already begun to show. In the next decade, as the exponent in <a href="">Moore&rsquo;s Law</a> decreases and the amount of content on the Internet doesn&rsquo;t, the system that allowed a few hands to concentrate the means of content distribution (and with it, our access to culture, current events, and knowledge) will teeter. It&rsquo;s imperative that we explore technological alternatives; under a peer-to-peer model, the only way a system goes fully offline is if it no longer has any participations.</p>
<h1 id="so-why-_not_-p2p">So, Why <em>Not</em> P2P?</h1>
<p>It should not be surprising that BitTorrent and other P2P traffic accounts for a major chunk of global bandwidth; <a href="https://torrentfreak.com/bittorrent-still-dominates-global-internet-traffic-101026/">up to 20%</a> by some metrics! It&rsquo;s an efficient, effective, and democratic means of distributing content (ignoring the fact that it&rsquo;s used extensively for piracy).</p>
<p>The answer to why we aren&rsquo;t using this powerful architecture <em>everywhere</em> is likely multi-faceted, and we can unfortunately only hypothesize. There are likely to be both financial and technological limitations at play: building new systems (and especially peer-to-peer systems) is expensive, time-consuming, and challenging.</p>
<h4 id="complexity">Complexity</h4>
<p>There are many who ask the same questions presented in this post and have gone a long way toward reducing the modern Internet&rsquo;s waste; for example, <a href="https://joinpeertube.org/">PeerTube</a> is a YouTube alternative that distributes video streams across all viewers to avoid wasting bandwidth.</p>
<p>Developing a separate product to adopt peer-to-peer technology is by no means necessary: both Spotify and Netflix have explored integrating the concept into their existing infrastructure. In fact, Spotify <em>started out</em> with peer-to-peer distribution&hellip; By their <a href="https://www.slideshare.net/ricardovice/spotify-p2p-music-streaming">own admission</a>, a peer-to-peer model that offloaded streaming from its servers to its users reduced their bandwidth requirements by 35%. Why did they abandon the <a href="http://www.csc.kth.se/~gkreitz//spotify-p2p10/spotify-p2p10.pdf">project</a>? Netflix has allegedly <a href="https://arstechnica.com/information-technology/2014/04/netflix-researching-large-scale-peer-to-peer-technology-for-streaming/">had a plan</a> aiming for P2P distribution for over 5 years, yet we&rsquo;ve still yet to see it come to fruition.</p>
<p>Is complexity the root cause? There&rsquo;s no doubt that handling issues with synchronization, copyright, and security is <strong>far</strong> more difficult with a P2P model. High-quality distributed systems engineers need time and money; the investment required for a reliable implementation is incompatible with the fast-paced, (often) short-sighted Agile methodology that is so pervasive in the software industry today.</p>
<h4 id="money--sqrttextevil">Money $= \sqrt{\text{evil}}$</h4>
<p>That leads directly into our second &ldquo;probable cause&rdquo;: it would be completely unsurprising if money alone lay at the root of the issue.</p>
<p>The inkling of information that the company gains from &ldquo;seeing&rdquo; each piece of content get downloaded is valuable. When a single sponsored Instagram post can run up a $100,000 <a href="https://www.vox.com/the-goods/2018/11/28/18116875/influencer-marketing-social-media-engagement-instagram-youtube">asking price</a>, it should suprise no one that guaranteeing each view &#x1f441;&#xfe0f;, like &#x2764;&#xfe0f;, and impression through a centralized, trusted authority (that is, through direct interactions with Instagram&rsquo;s servers) is an essential part of locking in those sweet, sweet advertising dollars.</p>
<p>Hence, it must be the case that this income (along with the expense of engineering such a system) outweighs the <em>massive</em> extra server costs associated with delivering content from a single, centralized location.</p>
<h4 id="privacy">Privacy</h4>
<p>A common concern of peer-to-peer applications is that it exposes user IP addresses. Though a legitimate concern, it&rsquo;s not an imperative consequence of a P2P architecture: it&rsquo;s possible (and desirable) to design a peer-to-peer system that preserves user privacy. On the extreme end of the latency vs. privacy spectrum lies <a href="https://www.torproject.org/">Tor</a>, which re-encrypts its packets at <em>every hop</em> to keep everyone unaware of the destination beyond the next hop, but there are plenty of compromises that can be made to still keep IP addresses relatively private without resorting to such extremes. Tunneling or routing packets through multiple users,<sup id="fnref:4"><a href="#fn:4" class="footnote-ref" role="doc-noteref">4</a></sup> provider-owned &ldquo;supernodes,&rdquo; and other technical solutions can help keep us private while also letting us participate in a peer-to-peer sharing scheme.</p>
<!-- Public IP addresses are not exactly a massive concern: they provide a [rough location](https://www.whatismybrowser.com/detect/ip-address-location) of its owner, sure 
 -->
<h4 id="control">Control</h4>
<p>Like dragons hoard piles of gold &#x1f4b0;, tech corporations hoard data and users &#x1f5ff;. And much like a dragon would destroy a village before it let someone touch its treasures, a tech company would sooner shut a product down before relinquishing control over its precious monetization streams. When we concentrate the power and the content in one company&rsquo;s hands, only the company benefits.</p>
<h1 id="conclusion">Conclusion</h1>
<p>At the end of the day, it&rsquo;s likely to be a linear combination of the aforementioned issues, and short-sightedness is likely at the forefront. Why invest in efficient content distribution methods when you&rsquo;re <a href="https://www.geekwire.com/2019/amazon-web-services-growth-slows-missing-analyst-expectations/">making</a> <a href="https://www.cnbc.com/2019/10/16/netflix-q3-2019-earnings.html">money</a> <a href="https://markets.businessinsider.com/news/stocks/spotify-earnings-send-spot-stock-soaring-1028636599">hand-over-fist</a>? Tech stocks have consistently hit all-time-highs every year.</p>
<p>Why invest in user privacy when it&rsquo;ll only temporarily impact your annual revenue by a paltry 8% after the <a href="https://www.nytimes.com/2018/04/04/us/politics/cambridge-analytica-scandal-fallout.html">biggest data scandal</a> of the decade?</p>
<p>Why invest in security your stock price recovers a less than a year after <a href="https://epic.org/privacy/data-breach/equifax/">leaking the financial data</a> of half of the US population?</p>
<p>Let&rsquo;s look past the fleeting dollar signs of the present and take in the writing on the wall. Without drastic changes in how we approach content distribution in the future, the exponential growth we&rsquo;re bound to see continue in the coming decade threatens to topple our fragile centralized ecosystem, leaving our &#x2764;&#xfe0f;-addicted populous circus-starved, our culture frozen (or even lost) in time, and our tech-dependent workforce completely immobolized.</p>
<!-- 
[^5]: What are people so worried about with public IP addresses, anyway? If you're concerned about a whimsical exploit of your outdated router firmware by a script kiddie, I wouldn't be: the Chinese, the NSA, or MI6 has already beaten them to it.
 -->
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>To keep this post (mostly) family-friendly, this footnote will be the only acknowledgement that <em>30%</em> of <strong>total</strong> Internet usage is <a href="https://www.extremetech.com/computing/123929-just-how-big-are-porn-sites">driven by porn</a>. That&rsquo;s right, one-third of the Internet is dedicated to watching others bump uglies. And in coherence with this post&rsquo;s thesis, this means millions of people simultaneously watching copies of identical content when they could be sharing a single copy, instead.&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2">
<p>Obviously, Google itself isn&rsquo;t serving all of this data so naively. Our browsers, ISPs, CDNs, etc. all make their best effort to cache repetitive content to avoid waste. That&rsquo;s beside the point, though, because at the end of the day, this 24TB of data is <em>still being transferred</em> across a few handfuls of sources to serve ~10KB of unchanging content. Those centralized solutions are bandages on bullet holes.&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:3">
<p>Mondo has a good <a href="https://www.mondo.com/aws-outage-internet-centralization-problem/">brief article</a> that dives into the problems of content centralization in the context of the AWS outage.&#160;<a href="#fnref:3" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:4">
<p>A few years ago, I started writing a <a href="https://cicada.readthedocs.io/en/latest/">library</a> that would enable any application to achieve peer-to-peer routing relatively easily. The idea was that packets can be efficiently routed between peers using a DHT-like approach without necessarily exposing IPs to the entire swarm. It did not get very far out of prototype phase, but a serverless IM client proved that the concept was at least viable.&#160;<a href="#fnref:4" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

    </article>
</div>


        
<nav role="navigation" class="flex-container bottom-menu">
    
<hr />
<p>
    
    <a href="https://teapowered.dev/">home</a>
    
        
            &#183;
            <a href="/posts">thoughts</a>
        
            &#183;
            <a href="/recipes">recipes</a>
        
            &#183;
            <a href="/notes">notes</a>
        
            &#183;
            <a href="/about">me</a>
        
    
</p>


</nav>

    </main>
    
    <footer class="flex-container footer">
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-AMS_HTML">
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    jax: ["input/TeX", "output/HTML-CSS"],
    tex2jax: {
      inlineMath: [['$','$'], ['\\(','\\)']],
      displayMath: [['$$','$$']],
      processEscapes: true,
      processEnvironments: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
      TeX: { equationNumbers: { autoNumber: "AMS" },
           extensions: ["AMSmath.js", "AMSsymbols.js"] }
    },
    "HTML-CSS": {
      styles: {
        ".MathJax": {
        }
      }
    }
  });
</script>

</footer>
    
    
</body>

</html>
